(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{10757:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orderhistory",function(){return i(81909)}])},81909:function(e,l,i){"use strict";i.r(l);var d=i(47568),n=i(70655),r=i(85893),s=i(20235),t=i(67294),o=i(11163),a=i(92338),u=i(10142),c=i(45891);l.default=function(){var e=(0,o.useRouter)(),l=(0,t.useContext)(a.St).users,i=(0,t.useContext)(a.yQ).dispatchOrder,v=(0,t.useState)([]),h=v[0],x=v[1],f=(0,t.useState)(1),m=f[0],p=f[1],j=(0,t.useState)(0),g=j[0],C=j[1];(0,t.useEffect)((function(){y()}),[]),(0,t.useEffect)((function(){y()}),[m]);var y=function(){var e=(0,d.Z)((function(){var e;return(0,n.__generator)(this,(function(i){switch(i.label){case 0:return x([]),[4,(0,s.bF)(l.userId,m,u.$E)];case 1:return e=i.sent(),C(e.data.totalPages),x(e.data.data),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,r.jsx)("section",{children:(0,r.jsx)("div",{className:"flex ...",children:(0,r.jsx)("div",{className:"flex-auto w-64 ...",children:(0,r.jsxs)("div",{className:"overflow-x-auto relative shadow-md sm:rounded-lg",children:[(0,r.jsxs)(c.iA,{hoverable:!0,children:[(0,r.jsxs)(c.iA.Head,{children:[(0,r.jsx)(c.iA.HeadCell,{children:"Order #"}),(0,r.jsx)(c.iA.HeadCell,{children:"Order Date"}),(0,r.jsx)(c.iA.HeadCell,{children:"Schedule Time"}),(0,r.jsx)(c.iA.HeadCell,{children:"Destination"}),(0,r.jsx)(c.iA.HeadCell,{children:"Property Information"}),(0,r.jsx)(c.iA.HeadCell,{children:"Services"}),(0,r.jsx)(c.iA.HeadCell,{children:"Comments"}),(0,r.jsx)(c.iA.HeadCell,{children:"Status"}),(0,r.jsx)(c.iA.HeadCell,{})]}),(0,r.jsx)(c.iA.Body,{className:"divide-y",children:h.map((function(d){var n,s,t,o,a,v,x,f,m,p,j,g,C;return(0,r.jsxs)(c.iA.Row,{className:"bg-white dark:border-gray-700 dark:bg-gray-800",children:[(0,r.jsx)(c.iA.Cell,{children:null===d||void 0===d?void 0:d.orderId}),(0,r.jsx)(c.iA.Cell,{children:null===d||void 0===d?void 0:d.created}),(0,r.jsx)(c.iA.Cell,{children:null===d||void 0===d?void 0:d.scheduleTime}),(0,r.jsx)(c.iA.Cell,{children:(null===d||void 0===d||null===(n=d.address)||void 0===n?void 0:n.unitNumber)+" - "+(null===d||void 0===d||null===(s=d.address)||void 0===s?void 0:s.streetNumber)+" "+(null===(t=d.address)||void 0===t?void 0:t.streetName)+" , "+(null===d||void 0===d||null===(o=d.address)||void 0===o||null===(a=o.city)||void 0===a?void 0:a.name)+" , "+(null===d||void 0===d||null===(v=d.address)||void 0===v||null===(x=v.province)||void 0===x?void 0:x.name)+" "+(null===d||void 0===d||null===(f=d.address)||void 0===f?void 0:f.postalCode)}),(0,r.jsx)(c.iA.Cell,{children:(null===d||void 0===d||null===(m=d.address)||void 0===m||null===(p=m.propertyType)||void 0===p?void 0:p.name)+" , Size: "+(null===d||void 0===d||null===(j=d.address)||void 0===j||null===(g=j.propertySize)||void 0===g?void 0:g.name)}),(0,r.jsx)(c.iA.Cell,{children:null===d||void 0===d?void 0:d.products.map((function(e){return(0,r.jsxs)("div",{children:[e.description," "]})}))}),(0,r.jsxs)(c.iA.Cell,{children:[" ",null===d||void 0===d?void 0:d.accessCode," ",null===d||void 0===d?void 0:d.note]}),(0,r.jsxs)(c.iA.Cell,{children:[" ",null===d||void 0===d||null===(C=d.status)||void 0===C?void 0:C.name]}),(0,r.jsxs)(c.iA.Cell,{children:[" ",(0,r.jsx)("button",{onClick:function(){return function(d){i({type:u.V5,order:h.filter((function(e){return e.orderId==d}))[0]});var n="";1===l.accountType?n="orderdetail":2===l.accountType&&(n="orderdetailstaff"),e.push({pathname:n,query:{orderId:d}})}(null===d||void 0===d?void 0:d.orderId)},type:"button",className:"text-gray-900 bg-gray-100 hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-500 mr-2 mb-2","data-mdb-ripple":"true","data-mdb-ripple-color":"light",children:"Open"})]})]})}))})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("span",{className:"text-xl text-gray-700 dark:text-gray-400",children:["Page ",m]}),(0,r.jsx)("div",{className:"inline-flex mt-2 xs:mt-0",children:(0,r.jsx)(c.tl,{page:m,currentPage:m,onPageChange:function(e){p(e)},showIcons:!0,totalPages:g})})]})]})})})})}}},function(e){e.O(0,[774,888,179],(function(){return l=10757,e(e.s=l);var l}));var l=e.O();_N_E=l}]);